# ------------- PdD OpenSPCoop2 ------------------

# Root Directory di OpenSPCoop2 (dove saranno attesi gli altri file) :
org.openspcoop2.pdd.confDirectory=/etc/openspcoop2

# Tipologia server
# j2ee: il server contiene sia un WebContainer che un EJBContainer
#       Con questo tipo di server e' possibile sfruttare tutte le potenzialità della Porta di Dominio
#	Verranno utilizzate code JMS, MDB, EJB Timer
# web:  il server è un WebContainer
#	Con questo tipo di server la Porta di Dominio applicherà le seguenti limitazioni:
#	- Gestione dei profili di collaborazione solo in modalità stateless
org.openspcoop2.pdd.server=j2ee

# **
# Tutte le invocazioni verso protocolli non attivi sulla porta provocano 
# un messaggio di errore se l'opzione sottostante e' abilitata.
# Altrimenti viene ritornato un errore http 404
# **
org.openspcoop2.pdd.protocolNotSupported.generateErrorMessage=false
# ** 
# Le invocazioni tramite metodi http non supportati generano un messaggio di errore se l'opzione sottostante e' abilitata.
# Altrimenti viene ritornato un errore http 404 
# **
# Porta Delegata
org.openspcoop2.pdd.pd.httpMethodUnsupported.generateErrorMessage=true
# Porta Delegata (Servizio di Imbustamento SOAP)
org.openspcoop2.pdd.pdToSoap.httpMethodUnsupported.generateErrorMessage=true
# Porta Applicativa
org.openspcoop2.pdd.pa.httpMethodUnsupported.generateErrorMessage=true
# Integration Manager
org.openspcoop2.pdd.im.httpMethodUnsupported.generateErrorMessage=true
# CheckPdD
org.openspcoop2.pdd.checkPdD.httpMethodUnsupported.generateErrorMessage=true
# ** 
# Generazione WSDL 
# **
# Porta Delegata
org.openspcoop2.pdd.pd.generateWsdl=false
# Porta Applicativa
org.openspcoop2.pdd.pa.generateWsdl=false
# Integration Manager
org.openspcoop2.pdd.im.generateWsdl=true

# CheckStatoPdD
# Indicazione se e' abilitata la modalita' di lettura delle risorse jmx
org.openspcoop2.pdd.checkPdD.readJMXResources.enabled=false
# AutenticazioneBasic (opzionale)
#org.openspcoop2.pdd.checkPdD.readJMXResources.username=admin
#org.openspcoop2.pdd.checkPdD.readJMXResources.password=admin

# API
# Indicazione se sono abilitati i servizi API
org.openspcoop2.pdd.api.enabled=false
# WhiteList (rispetto agli header filtrati indicati in tools/utils/src/org/openspcoop2/utils/resources/httpheader.types)
# RequestHeader (separati da ',')
org.openspcoop2.pdd.api.headers.request.forward=X-HTTP-Method-Override
# ResponseHeader (separati da ',') 
#org.openspcoop2.pdd.api.headers.response.forward=

# Datasource wrapped in org.openspcoop2.utils.datasource
org.openspcoop2.pdd.datasource.useDSUtils=true

# Jminix Console
# Se si abilita l'opzione seguente viene avviata la console 'Jminix' sulla porta indicata
#org.openspcoop2.pdd.jminix.port=8888



# ------------- Configurazione di OpenSPCoop2 ------------------

# XML, file Locale
org.openspcoop2.pdd.config.tipo = xml
org.openspcoop2.pdd.config.location = config.xml

# XML, file remoto
#org.openspcoop2.pdd.config.tipo = xml
#org.openspcoop2.pdd.config.location=http://www.openspcoop2.org/config.xml

# XML, individuato tramite proprieta' di sistema
#org.openspcoop2.pdd.config.tipo = xml
#org.openspcoop2.pdd.config.location = ${jboss.server.home.dir}/conf/config.xml

# DataSource (no-tx-datasource)
#org.openspcoop2.pdd.config.tipo = db
#org.openspcoop2.pdd.config.location=org.openspcoop2.dataSource.pdd

# DataSource
# E' possibile indicare il tipo di database come prefisso prima del datasource
#org.openspcoop2.pdd.config.tipo = db
#org.openspcoop2.pdd.config.location=postgresql@org.openspcoop2.dataSource.pdd

# Property utilizzabili per la lookup del DataSource nell'albero JNDI
# Non serve per il datasource 'org.openspcoop2.dataSource.pdd'
#org.openspcoop2.pdd.config.property.java.naming.provider.url = provURL

# Condivisione database registro/pdd
# Se si desidera condividere i due database, deve essere installato
# il database attraverso lo script pdd.sql.condivisioneRegserv
# e abilitare (true) l'opzione sottostante:
#org.openspcoop2.pdd.config.db.condivisioneDBRegserv=false

# Configurazione Statica(false)/Dinamica(true)
# Se la configurazione e' dinamica, le informazioni vengono rilette dalla sorgente, 
# in caso di refresh (o cache scaduta).
# Se la configurazione e' statica, le informazioni vengono lette solo una volta.
org.openspcoop2.pdd.config.refresh=true





# ------- Database per engine di OpenSPCoop2  -------

org.openspcoop2.pdd.dataSource=org.openspcoop2.dataSource

# Property utilizzabili per la lookup del DataSource nell'albero JNDI
# Non serve per il datasource 'org.openspcoop2.dataSource'
#org.openspcoop2.pdd.dataSource.property.java.naming.provider.url = 127.0.0.1






# -------- ConnectionFactory per engine di OpenSPCoop2 (Necessario solo per Server j2ee)  -------- 

org.openspcoop2.pdd.queueConnectionFactory=org.openspcoop2.jmsPool
#org.openspcoop2.pdd.queueConnectionFactory=ConnectionFactory

# Property utilizzabili per la lookup del ConnectionFactory nell'albero JNDI
# Non serve per il datasource 'org.openspcoop2.jmsPool'
#org.openspcoop2.pdd.queueConnectionFactory.property.java.naming.factory.initial = org.jnp.interfaces.NamingContextFactory
#org.openspcoop2.pdd.queueConnectionFactory.property.java.naming.factory.url.pkgs = org.jnp.interfaces
#org.openspcoop2.pdd.queueConnectionFactory.property.java.naming.provider.url = 127.0.0.1

# Acknowledge mode (default: AUTO_ACKNOWLEDGE)
# Possibili valori: AUTO_ACKNOWLEDGE/CLIENT_ACKNOWLEDGE/DUPS_OK_ACKNOWLEDGE
org.openspcoop2.pdd.queueConnectionFactory.session.AcknowledgeMode=AUTO_ACKNOWLEDGE




# ------- Code JMS per engine di OpenSPCoop2 (Necessario solo per Server j2ee) -------

# Modulo RicezioneContenutiApplicativi
# Il modulo si occupa di gestire le richieste di servizio effettuate dai servizi applicativi
#org.openspcoop2.pdd.queue.ricezioneContenutiApplicativi = queue/toRicezioneContenutiApplicativi
# Modulo RicezioneBuste
# Il modulo si occupa di gestire le buste inviate da altre Porte di Dominio 
#org.openspcoop2.pdd.queue.ricezioneBuste = queue/toRicezioneBuste
# Modulo InoltroBuste
# Il modulo si occupa di inoltrare buste prodotte dalla PdD verso altre Porte di Dominio
org.openspcoop2.pdd.queue.inoltroBuste = queue/toInoltroBuste
# Modulo InoltroRisposte
# Il modulo si occupa di gestire eventuali buste di risposta da inoltrare su nuove connessioni http
org.openspcoop2.pdd.queue.inoltroRisposte = queue/toInoltroRisposte
# Modulo ConsegnaContenutiApplicativi
# Il modulo si occupa di invocare i servizi applicativi erogatori, in seguito all'arrivo di buste
org.openspcoop2.pdd.queue.consegnaContenutiApplicativi = queue/toConsegnaContenutiApplicativi
# Modulo Imbustamento
# Il modulo si occupa della creazione di un header per buste in uscita
org.openspcoop2.pdd.queue.imbustamento = queue/toImbustamento
# Modulo ImbustamentoRisposte
# Il modulo si occupa della creazione di un header per buste contenenti risposte applicative
org.openspcoop2.pdd.queue.imbustamentoRisposte = queue/toImbustamentoRisposte
# Modulo Sbustamento
# Il modulo si occupa dello sbustamento/gestione dell'header presente nelle buste ricevute
org.openspcoop2.pdd.queue.sbustamento = queue/toSbustamento
# Modulo SbustamentoRisposte
# Il modulo si occupa dello sbustamento/gestione dell'header presente nelle buste ricevute in una connection-reply
org.openspcoop2.pdd.queue.sbustamentoRisposte = queue/toSbustamentoRisposte


# Property utilizzabili per la lookup delle code nell'albero JNDI 
#org.openspcoop2.pdd.queue.property.java.naming.provider.url = 127.0.0.1
#org.openspcoop2.pdd.queue.property.java.naming.factory.url.pkgs = org.jnp.interfaces
#org.openspcoop2.pdd.queue.property.java.naming.factory.initial = org.jnp.interfaces.NamingContextFactory








# ------- Timer di OpenSPCoop2 -------

# Modulo GestoreBusteNonRiscontrate
# Il modulo si occupa di gestire le buste OneWay non riscontrate
# e le buste asincrone di cui non e' stata ricevuta una ricevuta

# Nome JNDI dell'EJBTimer (Necessario solo per Server j2ee)
org.openspcoop2.pdd.timer.gestoreBusteNonRiscontrate = ejb/GestoreBusteNonRiscontrate
# Indicazione se il timer deve essere attivato (true/false)
org.openspcoop2.pdd.timer.gestoreBusteNonRiscontrate.enable=true
# Indicazione se le query di ricerca dei messaggi, devono essere registrate sul log openspcoop_timers
org.openspcoop2.pdd.timer.gestoreBusteNonRiscontrate.logQuery=false
# Numero di messaggi recuperati da una singola query
org.openspcoop2.pdd.timer.gestoreBusteNonRiscontrate.query.limit=50


# Modulo GestoreMessaggi
# Il modulo si occupa di gestire la pulizia del repository dei Messaggi

# Nome JNDI dell'EJBTimer (Necessario solo per Server j2ee)
org.openspcoop2.pdd.timer.gestoreMessaggi = ejb/GestoreMessaggi
# Indicazione se il timer deve essere attivato (true/false)
org.openspcoop2.pdd.timer.gestoreMessaggi.enable=true
# Indicazione se le query di ricerca dei messaggi devono effettuare un ordinamento delle entries lette
org.openspcoop2.pdd.timer.gestoreMessaggi.orderBy=false
# Indicazione se le query di ricerca dei messaggi, devono essere registrate sul log openspcoop_timers
org.openspcoop2.pdd.timer.gestoreMessaggi.logQuery=false
# Numero di messaggi recuperati da una singola query
# Su questo timer impostare un valore basso, poiche' la pulizia acquisisce un lock esclusivo per la pulizia dei messaggi
# Lo stesso lock viene richiesto sulla singola transazione nel caso in cui il messaggio sia gia' presente sulla base dati (messaggio duplicato) 
# e deve nuovamente essere salvato (gestione stateful)
org.openspcoop2.pdd.timer.gestoreMessaggi.query.limit=50
# Indicazione se devono essere verificate anche le connessioni rimaste attive
org.openspcoop2.pdd.timer.gestoreMessaggi.verificaConnessioniAttive=false



# Modulo GestorePuliziaMessaggiAnomali
# Il modulo si occupa di gestire la pulizia del repository, che contiene messaggi non piu' riferiti
# dalla Porta di Dominio

# Nome JNDI dell'EJBTimer (Necessario solo per Server j2ee)
org.openspcoop2.pdd.timer.gestorePuliziaMessaggiAnomali = ejb/GestorePuliziaMessaggiAnomali
# Indicazione se il timer deve essere attivato (true/false)
org.openspcoop2.pdd.timer.gestorePuliziaMessaggiAnomali.enable=true
# Indicazione se le query di ricerca dei messaggi devono effettuare un ordinamento delle entries lette
org.openspcoop2.pdd.timer.gestorePuliziaMessaggiAnomali.orderBy=false
# Indicazione se le query di ricerca dei messaggi, devono essere registrate sul log openspcoop_timers
org.openspcoop2.pdd.timer.gestorePuliziaMessaggiAnomali.logQuery=false
# Numero di messaggi recuperati da una singola query
org.openspcoop2.pdd.timer.gestorePuliziaMessaggiAnomali.query.limit=50



# Modulo GestoreRepositoryBuste
# Il modulo si occupa di gestire la pulizia del repository buste

# Nome JNDI dell'EJBTimer (Necessario solo per Server j2ee)
org.openspcoop2.pdd.timer.gestoreRepositoryBuste = ejb/GestoreRepositoryBuste
# Indicazione se il timer deve essere attivato (true/false)
org.openspcoop2.pdd.timer.gestoreRepositoryBuste.enable=true
# Indicazione se le query di ricerca dei messaggi devono effettuare un ordinamento delle entries lette
org.openspcoop2.pdd.timer.gestoreRepositoryBuste.orderBy=false
# Indicazione se le query di ricerca dei messaggi, devono essere registrate sul log openspcoop_timers
org.openspcoop2.pdd.timer.gestoreRepositoryBuste.logQuery=false
# Numero di messaggi recuperati da una singola query
# Su questo timer impostare un valore basso, poiche' la pulizia acquisisce un lock esclusivo per la pulizia dei messaggi
# Lo stesso lock viene richiesto sulla singola transazione nel caso in cui il messaggio sia gia' presente sulla base dati (messaggio duplicato)
# e deve nuovamente essere salvato (gestione stateful)
org.openspcoop2.pdd.timer.gestoreRepositoryBuste.query.limit=50



# Modulo ConsegnaContenutiApplicativi
# Il modulo si occupa di ri-consegnare i messaggi che hanno dato errore durante la prima spedizione in ConsegnaContenutiApplicativi
# Timer valido solo per la versione non 'j2ee' del prodotto

# Indicazione se il timer deve essere attivato (true/false)
org.openspcoop2.pdd.timer.consegnaContenutiApplicativi.enable=true
# Indicazione se le query di ricerca dei messaggi devono effettuare un ordinamento delle entries lette
org.openspcoop2.pdd.timer.consegnaContenutiApplicativi.orderBy=false
# Indicazione se le query di ricerca dei messaggi, devono essere registrate sul log openspcoop_timers
org.openspcoop2.pdd.timer.consegnaContenutiApplicativi.logQuery=false
# Numero di messaggi recuperati da una singola query
# Su questo timer impostare un valore basso, poiche' la pulizia acquisisce un lock esclusivo per la pulizia dei messaggi
# Lo stesso lock viene richiesto sulla singola transazione nel caso in cui il messaggio sia gia' presente sulla base dati (messaggio duplicato)
# e deve nuovamente essere salvato (gestione stateful)
org.openspcoop2.pdd.timer.consegnaContenutiApplicativi.query.limit=50
# Intervallo in secondi per il controllo dei messaggi da re-inoltrare
org.openspcoop2.pdd.timer.consegnaContenutiApplicativi.intervallo=60





# Property utilizzabili per la lookup dei timer nell'albero JNDI (Necessario solo per Server j2ee)
#org.openspcoop2.pdd.timer.property.java.naming.provider.url = 127.0.0.1
#org.openspcoop2.pdd.timer.property.java.naming.factory.url.pkgs = org.jnp.interfaces
#org.openspcoop2.pdd.timer.property.java.naming.factory.initial = org.jnp.interfaces.NamingContextFactory


# Timeout di attesa per il deploy dei timer in millisecondi (Necessario solo per Server j2ee): 
# esempio  1 Minuto (1 * 60 * 1000) 
org.openspcoop2.pdd.timer.timeout=60000
# Frequenza di check in millisecondi per il deploy dei timer
org.openspcoop2.pdd.timer.check=300

# Gli EJB Timer, nelle versioni di jboss piu' storiche, dovevano essere avviati manualmente.
# Nelle nuove versioni, jboss avviava automaticamente un EJB Timer registrato. Questo comportamento, insieme 
# al codice che avviava manualmente l'EJB Timer provocava un doppio avvio. Per evitare cio' veniva effettuato
# lo stop del timer avviato automaticamente da jboss, per favorire il timer avviato manualmente da openspcoop.
# In wildfly l'avvio manuale da openspcoop non funziona, e quindi deve essere lasciato attivo quello avviato da jboss
# L'opzione seguente indica se gli EJBTimer avviati automaticamente da jboss devono essere fermati.
org.openspcoop2.pdd.timer.autoStart.stop=true







# -------- Repository per Messaggi gestiti da OpenSPCoop2 ---------

# Tipi possibili di repository per i contenuti applicativi:
# fs : FileSystem
# db : Database relazionale
org.openspcoop2.pdd.repository.tipo=fs

# Directory del repository in caso di utilizzo del FileSystem
org.openspcoop2.pdd.repository.directory = /var/openspcoop2/msgRepository

# Classe che implementa l'interfaccia 'org.openspcoop2.utils.jdbc.JDBCAdapter'
# Classi gia' fornite in OpenSPCoop2 registrate in openspcoop2.classRegistry.properties
# Esempi default,bytes,stream,blob
org.openspcoop2.pdd.repository.jdbcAdapter = default

# Modalida di salvataggio degli Attachments (Solo per l'implementazione AXIOM)
# Se abilitato il fileCacheEnable, gli attachment sono serializzati su file system.
org.openspcoop2.pdd.attachment.fileCacheEnable = false 
org.openspcoop2.pdd.attachment.fileThreshold = 1024
org.openspcoop2.pdd.attachment.repositoryDir = /var/openspcoop2/attachments

# Database utilizzato
# L'informazione sul database utilizzato permette
# di avere SQLquery ottimizzate in caso di vincoli LIMIT/OFFSET
org.openspcoop2.pdd.repository.tipoDatabase = postgresql

# Utilizzo forzato degli indici in alcune queries
org.openspcoop2.pdd.repository.forceIndex=false

# Intervallo in secondi per il thread 
# che elimina i msg completamente processati o scaduti
org.openspcoop2.pdd.repository.timer=300

# Scadenza messaggio di default nel repository (minuti)
# es. 5 giorni (60m * 24h * 5giorni = 7200)
org.openspcoop2.pdd.repository.scadenzaMessaggio=7200

# Se tale opzione viene disabilitata, le informazioni per 
# effettuare il filtro duplicati vengono mantenute all'infinito 
# Sara' necessaria una manutenzione sistemistica del database per prevenire una crescita
# del database che comporta un esaurimento di risorse
org.openspcoop2.pdd.repository.scadenzaMessaggio.filtraBusteScaduteRispettoOraRegistrazione=true

# Scadenza correlazioni applicative nel repository (minuti)
# es. 5 giorni (60m * 24h * 5giorni = 7200)
org.openspcoop2.pdd.repository.scadenzaCorrelazioneApplicativa=7200

# Se tale opzione viene disabilitata 
# le informazioni necessarie per effettuare la correlazione applicativa vengono mantenute all'infinito
# Sara' necessaria una manutenzione sistemistica del database pre prevenire una crescita
# del database che comporta un esaurimento di risorse
org.openspcoop2.pdd.repository.scadenzaCorrelazioneApplicativa.filtraCorrelazioniScaduteRispettoOraRegistrazione=true
# E' inoltre possibile indicare se devono essere considerate solo le correlazioni applicative scadute 
# per cui non e' stata impostata una scadenza
org.openspcoop2.pdd.repository.scadenzaCorrelazioneApplicativa.filtraCorrelazioniScaduteRispettoOraRegistrazione.soloCorrelazioniSenzaScadenza=false

# Algoritmo gestione messaggi gia' in processamento
# Se la porta di dominio riceve una busta gia in fase di processamento (busta con id gia' ricevuta)
# la gestione cambia a seconda dei seguenti parametri:
# - modalita' di risposta sincrona (profilo sincrono o profili asincroni con ricevuta abilitata)
#      Viene generato una busta di errore poiche' non e' possibile ricevere una busta con stesso id con questi profili
# - modalita' di risposta asincrona (profilo oneway o profili asincroni con ricevuta disabilitata)
#      La gestione varia a seconda dell'attributo 'inoltro' del profilo di trasmissione:
#      - ALPIUUNAVOLTA: Se la busta e' in fase di consegna (modulo ConsegnaContenutiApplicativi o termina durante il controllo)
#                               La busta non viene ulteriormente gestita (viene eventualmente generato il riscontro/ricevutaAsincrona)
#               		altrimenti viene attesa che la busta precedentemente ricevuta arrivi nella fase di consegna (in corso o effettuata).
#      - PIUDIUNAVOLTA: Attendo completamento gestione messaggio precedentemente ricevuto prima di processare quello arrivato
#   L'attesa dipende dai seguenti parametri 'org.openspcoop2.pdd.repository.messaggioInProcessamento.attesaAttiva' e 'org.openspcoop2.pdd.repository.messaggioInProcessamento.check'
# Attesa attiva in secondi per il completamento dei messaggi precedentemente ricevuti
org.openspcoop2.pdd.repository.messaggioInProcessamento.attesaAttiva=90
# Intervallo in millisecondi tra un check e l'altro durante l'attesa attiva dei messaggi precedentemente ricevuti
org.openspcoop2.pdd.repository.messaggioInProcessamento.check=500

# I Profili Asincroni richiedono un'ulteriore gestiona avanzata.
# La risposta asincrona simmetrica, o la richiesta-stato asincrona asimmetrica devono essere accettate dal servizio di RicezioneBuste, solo se la precedente richiesta o ricevuta alla richiesta non risulti ancora in processamento nella porta di dominio.
# L'attesa dipende dai parametri 'org.openspcoop2.pdd.repository.messaggioAsincronoInProcessamento.attesaAttiva' e 'org.openspcoop2.pdd.repository.messaggioAsincronoInProcessamento.check'
# Attesa attiva in secondi
org.openspcoop2.pdd.repository.messaggioAsincronoInProcessamento.attesaAttiva=90
# Intervallo in millisecondi tra un check e l'altro durante l'attesa attiva
org.openspcoop2.pdd.repository.messaggioAsincronoInProcessamento.check=500

# CACHE (opzionale) per:
# - mapping riferimentiMessaggi <-> id
# - nodo proprietario del modulo
# - controllo di esistenzaMessaggi tra moduli
# Abilitazione all'uso della cache
org.openspcoop2.pdd.repository.gestoreMessaggi.cache.enable=false
# Dimensione della cache (default:1000)
#org.openspcoop2.pdd.repository.gestoreMessaggi.cache.dimensione = 20000
# Algoritmo utilizzato (lru/mru default:lru)
#org.openspcoop2.pdd.repository.gestoreMessaggi.cache.algoritmo = lru
# Item Idle Time (default: infinito)
#org.openspcoop2.pdd.repository.gestoreMessaggi.cache.itemIdleTime=60
# Item Life Second (default: 1minuti=60)
#org.openspcoop2.pdd.repository.gestoreMessaggi.cache.itemLifeSecond=240








# ----------- Gestore Risorse tramite JMX ---------------

# Abilitazione gestore risorse tramite JMX (default: false)
org.openspcoop2.pdd.core.jmx.enable=true

# Nome JNDI del MBeanServer per registrare gli mbean 
# Il nome jndi e' opzionale. Se non fornito viene utilizzato
# l'MBeanServer di default istanziato nell'ApplicationServer
#org.openspcoop2.pdd.core.jmx.jndi.mbeanServer=java:comp/env/jmx/MBeanServer 
# Contesto JNDI 
#org.openspcoop2.pdd.core.jmx.jndi.property.java.naming.provider.url = 127.0.0.1
#...
#org.openspcoop2.pdd.core.jmx.jndi.property.NOME = VALORE








# ----------- Controllo risorse di OpenSPCoop2 -------------- 

# --- Validazione Semantica --
# La validazione semantica riguarda la configurazione della PdD e del registro dei servizi
# Con le seguenti opzioni e' possibili impostare una validazione semantica effettuata allo startup della porta di dominio.
# E' possibile impostare un controllo periodico tramite i check presenti nella sezione 'RISORSE' sottostanti (check.configurazione.validazioneSemantica e check.registri.validazioneSemantica)

# ** Validazione semantica della configurazione della PdD **
# Opzione utilizzata in presenza di configurazione XML (La validazione viene effettuata allo startup della PdD, e ogni qualvolta viene modificato il file XML)
org.openspcoop2.pdd.startup.config.xml.validazioneSemantica=abilitato
# Opzione utilizzata in presenza di altri tipi di configurazione
org.openspcoop2.pdd.startup.config.validazioneSemantica=disabilitato

# ** Validazione semantica del registro dei servizi **
# Opzione utilizzata in presenza di configurazione XML (La validazione viene effettuata allo startup della PdD, e ogni qualvolta viene modificato il file XML)
org.openspcoop2.pdd.startup.registri.xml.validazioneSemantica=abilitato
# Opzione utilizzata in presenza di altri tipi di registro
org.openspcoop2.pdd.startup.registri.validazioneSemantica=disabilitato
# Opzione per impostare la validazione delle URI presenti nelle risorse definite nel registro dei servizi
# Il comportamento definito in questa opzione verra' utilizzato anche nel check presente nella sezione 'RISORSE' (check.registri.validazioneSemantica)
org.openspcoop2.pdd.startup.registri.validazioneSemantica.checkURI=disabilitato


# --- RISORSE ---

# Intervallo in secondi per il thread che controlla la disponibilita' delle risorse di OpenSPCoop2.
org.openspcoop2.pdd.risorse.checkInterval=30

# Valori possibili per la gestione delle risorse: abilitato/disabilitato

# ** Database di OpenSPCoop2: viene controllata la connessione **
org.openspcoop2.pdd.risorse.check.db=disabilitato

# ** Broker JMS dell'infrastruttura di OpenSPCoop2: viene controllata la connessione **
org.openspcoop2.pdd.risorse.check.jms=disabilitato

# ** Tracciamenti personalizzati **
org.openspcoop2.pdd.risorse.check.tracciamento=disabilitato

# ** Messaggi Diagnostici personalizzati **
org.openspcoop2.pdd.risorse.check.msgdiagnostici=disabilitato

# ** Configurazione di OpenSPCoop2 **
org.openspcoop2.pdd.risorse.check.configurazione=disabilitato
# Validazione semantica della configurazione
org.openspcoop2.pdd.risorse.check.configurazione.validazioneSemantica=disabilitato

# ** Registro dei Servizi **
org.openspcoop2.pdd.risorse.check.registri=disabilitato
# Registro dei Servizi, il controllo puo' assumere due tipologie per il controllo della raggiungibilita' del registro:
# tutti, l'allarme viene lanciato se non esiste nemmeno un registro raggiungibile.
# singolo, l'allarme viene lanciato non appena uno dei registri configurati non risulta accessibile.
org.openspcoop2.pdd.risorse.check.registri.tipo=tutti
# Validazione semantica del registro servizi
org.openspcoop2.pdd.risorse.check.registri.validazioneSemantica=disabilitato


# --- THRESHOLD ---

# Intervallo in secondi per il thread che controlla i Threshold delle risorse di OpenSPCoop2.
org.openspcoop2.pdd.repository.threshold.checkInterval=30

# Controllare delle risorse libere disponibili per la porta di dominio
# I controlli che si desidera attivare possono essere indicati con una lista di threshold, separati da ','
# I controlli devono mappare classi registrate in openspcoop2.classRegistry.properties che implementano l'interfaccia IThreshold
# Al controllo dovra' essere associato un valore di threshold.
# Esempio:
#org.openspcoop2.pdd.repository.threshold.tipi=TIPO
#org.openspcoop2.pdd.repository.threshold.TIPO.nome1=valore1
#org.openspcoop2.pdd.repository.threshold.TIPO.nomeN=valoreN

# ----------- MySQL -----------------
# Questo controllo verifica lo spazio di table space rimanente per i database di mysql
#
#org.openspcoop2.pdd.repository.threshold.tipi=mysqlFreeSpace
#org.openspcoop2.pdd.repository.threshold.mysqlFreeSpace.valore=3072
# ----------- MySQL -----------------

# ----------- PostgreSQL -----------------
# Questo controllo verifica lo spazio disco occupato attualmente da tutti i database di postgres
# e verifica che non occupino piu' del valore di soglia indicato
#
#org.openspcoop2.pdd.repository.threshold.tipi=postgresUsedSpace
#
# Il valore che viene passato al controllo puo essere del tipo
#       "<valore di soglia>[;<nome datasource>]"
# Se nome datasource non e' indicato verra' utilizzata la connessione
# verso il database openspcoop
# Il valore di soglia e' interpretato in byte a meno che non sia esplicitamente indicata l'unita di misura
#
# NOTA: la query per il controllo dello spazio occupato necessita dei diritti di superutente per essere eseguita
#org.openspcoop2.pdd.repository.threshold.postgresUsedSpace.valore=150M
#org.openspcoop2.pdd.repository.threshold.postgresUsedSpace.datasource=java:/org.openspcoop2.threshold.monitor
# ----------- PostgreSQL -----------------






# -------- Identificativo di default della Porta di dominio -----------
#
# Identita' mittente utilizzata per eventuali buste di risposta generate in seguito:
# - ricezione di una busta sul servizio RicezioneBuste dove il soggetto destinatario non e' registrato nel Registro dei Servizio (o non e' presente un destinatario nella busta)
# - ricezione di una richiesta sul servizio RicezioneContenutiApplicativi dove la porta delegata invocata non esiste (e quindi il soggetto fruitore non e' identificabile)
org.openspcoop2.pdd.identificativoPorta.dominio=OpenSPCoop2PdD
org.openspcoop2.pdd.identificativoPorta.nome=OpenSPCoop2
org.openspcoop2.pdd.identificativoPorta.tipo=ORG
#
# E' inoltre possibile fornire un identificativo porta di default differente per protocollo.
# Esempio per protocollo 'spcoop':
#org.openspcoop2.pdd.spcoop.identificativoPorta.dominio=VALUE
#org.openspcoop2.pdd.spcoop.identificativoPorta.nome=VALUE
#org.openspcoop2.pdd.spcoop.identificativoPorta.tipo=VALUE






# -------- Messaggio di errore applicativo ----------

# Tipo di errore di default soap/xml 
org.openspcoop2.pdd.erroreApplicativo.fault=soap

# In caso di errore=soap, indicazione se il messaggio di errore applicativo
# deve essere inserito nel FaultString(false) o nei details (true)
org.openspcoop2.pdd.erroreApplicativo.fault.details=true

# Fault Actor
org.openspcoop2.pdd.erroreApplicativo.faultActor=OpenSPCoop2

# Generic Fault Code (abilitato/disabilitato)
org.openspcoop2.pdd.erroreApplicativo.genericFaultCode=abilitato

# Prefix Fault Code (sostituisce OPENSPCOOP2_ORG_)
#org.openspcoop2.pdd.erroreApplicativo.prefixFaultCode=CODICE_PROPRIETARIO_

# Indicazione se aggiungere un detail contenente descrizione dell'errore nel SoapFaultApplicativo originale
org.openspcoop2.pdd.erroreApplicativo.faultApplicativo.enrichDetails=true

# Indicazione se aggiungere un detail contenente descrizione dell'errore nel SoapFaultPdD originale
org.openspcoop2.pdd.erroreApplicativo.faultPdD.enrichDetails=true







# ----------- Informazioni di Integrazione 
# Un Servizio Applicativo puo' dover passare/ricevere informazioni di protocollo a/dalla Porta di Dominio.
# L'utilizzo degli header di integrazione, permette di passare/ottenere
# queste informazioni nella maniera piu' consona all'applicazione.
#
# E' possibile elencare i tipo di integrazione che si desiderano abilitare
# I tipi di default sono 'trasporto','urlBased'
# Esiste anche un tipo 'soap' per informazioni inserite in un header SOAP
# L'ordine degli header ne definisce il livelllo di importanza 
# in ordine crescente per l'integrazione tra servizio applicativo e pdd.
# Per l'integrazione tra pdd e servizio applicativo, invece, definisce solo
# gli header da impostare.
#
# Nota: E' possibile aggiungere header soap personalizzati definendo una 
#        classe che implementi l'interfaccia IGestoreIntegrazionePD o
#        l'interfaccia IGestoreIntegrazionePA.
#        La classe deve essere registrata in openspcoop2.classRegistry.properties

# Integrazione tra servizio applicativo e pdd
# Tipi possibili: trasporto,urlBased,soap e wsa
org.openspcoop2.pdd.integrazione.tipo.pd=trasporto,urlBased

# Integrazione tra pdd e servizio applicativo
org.openspcoop2.pdd.integrazione.tipo.pa=trasporto

# E' possibile definire dei default specifici per i protocolli
# esempio per protocollo 'spcoop':
#org.openspcoop2.pdd.integrazione.tipo.pd.spcoop=soap
#org.openspcoop2.pdd.integrazione.tipo.pa.spcoop=soap
org.openspcoop2.pdd.integrazione.tipo.pd.trasparente=trasportoExt,urlBasedExt
org.openspcoop2.pdd.integrazione.tipo.pa.trasparente=trasportoExt,urlBasedExt

# Compatibilita integrazione asincroni con versioni precedenti a 1.4
# L'indicazione dell'id per la correlazione asincrona poteva essere fornita, 
# oltre che tramite il riferimentoMessaggio, anche tramite l'elemento idCollaborazione.
# Tale funzionalita' e' disabilitata per default dalla versione 1.4
# Se si desidera riabilitarla e' possibile agire sulla seguente proprieta':
org.openspcoop2.pdd.integrazione.asincroni.idCollaborazione.enabled=false


# ----------- Trasporto -----------------
# Keyword per i valori di integrazione gestiti tramite header di integrazione di tipo 'trasporto'
# informazioni della busta:
org.openspcoop2.pdd.integrazione.trasporto.keyword.tipoMittente=X-OpenSPCoop2-TipoMittente
org.openspcoop2.pdd.integrazione.trasporto.keyword.mittente=X-OpenSPCoop2-Mittente
org.openspcoop2.pdd.integrazione.trasporto.keyword.tipoDestinatario=X-OpenSPCoop2-TipoDestinatario
org.openspcoop2.pdd.integrazione.trasporto.keyword.destinatario=X-OpenSPCoop2-Destinatario
org.openspcoop2.pdd.integrazione.trasporto.keyword.tipoServizio=X-OpenSPCoop2-TipoServizio
org.openspcoop2.pdd.integrazione.trasporto.keyword.servizio=X-OpenSPCoop2-Servizio
org.openspcoop2.pdd.integrazione.trasporto.keyword.azione=X-OpenSPCoop2-Azione
org.openspcoop2.pdd.integrazione.trasporto.keyword.identificativo=X-OpenSPCoop2-IdMessaggio
org.openspcoop2.pdd.integrazione.trasporto.keyword.riferimentoMessaggio=X-OpenSPCoop2-RiferimentoMessaggio
org.openspcoop2.pdd.integrazione.trasporto.keyword.idCollaborazione=X-OpenSPCoop2-Collaborazione
# identificativi aggiuntivi:
org.openspcoop2.pdd.integrazione.trasporto.keyword.idApplicativo=X-OpenSPCoop2-IdApplicativo
org.openspcoop2.pdd.integrazione.trasporto.keyword.idApplicativoRichiesta=X-OpenSPCoop2-RiferimentoIDApplicativoRichiesta
org.openspcoop2.pdd.integrazione.trasporto.keyword.servizioApplicativo=X-OpenSPCoop2-ServizioApplicativo


# ----------- UrlBased -----------------
# Keyword per i valori di integrazione gestiti tramite header di integrazione di tipo 'urlBased'
# informazioni della busta:
org.openspcoop2.pdd.integrazione.urlBased.keyword.tipoMittente=OpenSPCoop2TipoMittente
org.openspcoop2.pdd.integrazione.urlBased.keyword.mittente=OpenSPCoop2Mittente
org.openspcoop2.pdd.integrazione.urlBased.keyword.tipoDestinatario=OpenSPCoop2TipoDestinatario
org.openspcoop2.pdd.integrazione.urlBased.keyword.destinatario=OpenSPCoop2Destinatario
org.openspcoop2.pdd.integrazione.urlBased.keyword.tipoServizio=OpenSPCoop2TipoServizio
org.openspcoop2.pdd.integrazione.urlBased.keyword.servizio=OpenSPCoop2Servizio
org.openspcoop2.pdd.integrazione.urlBased.keyword.azione=OpenSPCoop2Azione
org.openspcoop2.pdd.integrazione.urlBased.keyword.identificativo=OpenSPCoop2IdMessaggio
org.openspcoop2.pdd.integrazione.urlBased.keyword.riferimentoMessaggio=OpenSPCoop2RiferimentoMessaggio
org.openspcoop2.pdd.integrazione.urlBased.keyword.idCollaborazione=OpenSPCoop2Collaborazione
# identificativi aggiuntivi:
org.openspcoop2.pdd.integrazione.urlBased.keyword.idApplicativo=OpenSPCoop2IdApplicativo
org.openspcoop2.pdd.integrazione.urlBased.keyword.idApplicativoRichiesta=OpenSPCoop2RiferimentoIDApplicativoRichiesta
org.openspcoop2.pdd.integrazione.urlBased.keyword.servizioApplicativo=OpenSPCoop2ServizioApplicativo


# ----------- SOAP -----------------
# Keyword per i valori di integrazione gestiti tramite header di integrazione di tipo 'soap'
# informazioni della busta:
org.openspcoop2.pdd.integrazione.soap.keyword.tipoMittente=TipoMittente
org.openspcoop2.pdd.integrazione.soap.keyword.mittente=Mittente
org.openspcoop2.pdd.integrazione.soap.keyword.tipoDestinatario=TipoDestinatario
org.openspcoop2.pdd.integrazione.soap.keyword.destinatario=Destinatario
org.openspcoop2.pdd.integrazione.soap.keyword.tipoServizio=TipoServizio
org.openspcoop2.pdd.integrazione.soap.keyword.servizio=Servizio
org.openspcoop2.pdd.integrazione.soap.keyword.azione=Azione
org.openspcoop2.pdd.integrazione.soap.keyword.identificativo=IdMessaggio
org.openspcoop2.pdd.integrazione.soap.keyword.riferimentoMessaggio=RiferimentoMessaggio
org.openspcoop2.pdd.integrazione.soap.keyword.idCollaborazione=Collaborazione
# identificativi aggiuntivi:
org.openspcoop2.pdd.integrazione.soap.keyword.idApplicativo=IdApplicativo
org.openspcoop2.pdd.integrazione.soap.keyword.idApplicativoRichiesta=RiferimentoIDApplicativoRichiesta
org.openspcoop2.pdd.integrazione.soap.keyword.servizioApplicativo=ServizioApplicativo

# Nome dell'header SOAP di integrazione di default (keyword=soap) 
org.openspcoop2.pdd.integrazione.soap.headerName=integrazione
# Prefisso dell'header SOAP di integrazione di default (keyword=soap)
org.openspcoop2.pdd.integrazione.soap.headerPrefix=openspcoop
# Actor dell'header SOAP di integrazione di default (keyword=soap)
# (utilizzato anche come namespace)
org.openspcoop2.pdd.integrazione.soap.headerActor=http://www.openspcoop2.org/core/integrazione
# Elementi aggiuntivi se sono presenti informazioni di protocollo
org.openspcoop2.pdd.integrazione.soap.extProtocolInfo.elemento.nome=InfoProtocollo
org.openspcoop2.pdd.integrazione.soap.extProtocolInfo.attributo.nome=tipo

# Porta Delegata, Messaggio di richiesta
# Indicazione se l'header di integrazione letto con un IGestoreIntegrazionePDSoap
# deve poi essere eliminato o meno (default: true).
# I metodi definiti nell'interfaccia che vengono invocati sono:
# -true:  readInRequestHeader-> deleteInRequestHeader
# -false: readInRequestHeader-> updateInRequestHeader
# Se non viene eliminato, l'header verra' aggiornato con i valori della cooperazione di protocollo individuata dalla porta delegata
# La busta che arrivera' alla porta applicativa possiedera' quindi l'header di integrazione, con alcuni valori 
# non presenti normalmente nella busta quali la correlazione applicativa o l'identita' del servizio applicativo fruitore.
org.openspcoop2.pdd.integrazione.pd.request.readAndDelete=true

# Porta Delegata, Messaggio di risposta
# La risposta e' contenuta in un messaggio di cooperazione. 
# E' possibile indicare se tale messaggio deve essere ispezionato per verificare la presenza di un header di integrazione (default: false):
org.openspcoop2.pdd.integrazione.pd.response.process=false
# Se l'ispezione e' disabilitata, verra invocato per la risposta il solo metodo setOutResponseHeader di un oggetto IGestoreIntegrazionePD
# Altrimenti puo' essere indicato se deve essere eliminato o meno l'eventuale header di integrazione trovato nell'ispezione (default: true).
# I metodi definiti nell'interfaccia IGestoreIntegrazionePDSoap che vengono invocati sono:
# -true:  readInResponseHeader-> deleteInResponseHeader-> setOutResponseHeader
# -false: readInResponseHeader-> updateInResponseHeader-> setOutResponseHeader
org.openspcoop2.pdd.integrazione.pd.response.readAndDelete=true

# Porta Applicativa, Messaggio di richiesta
# La richiesta e' contenuta in un messaggio di cooperazione.
# Se la pdd agisce in modalita Router, l'header di integrazione anche se presente non viene letto/modificato
# Se la pdd agisce non in modalita Router e' possibile indicare se tale messaggio deve essere ispezionato per verificare la presenza di un header di integrazione (default: false):
org.openspcoop2.pdd.integrazione.pa.request.process=false
# Se l'ispezione e' disabilitata, verra invocato per la richiesta il solo metodo setOutRequestHeader di un oggetto IGestoreIntegrazionePA
# Altrimenti puo' essere indicato se deve essere eliminato o meno l'eventuale header di integrazione trovato nell'ispezione (default: true).
# I metodi definiti nell'interfaccia IGestoreIntegrazionePASoap che vengono invocati sono:
# -true:  readInRequestHeader-> deleteInRequestHeader-> setOutRequestHeader
# -false: readInRequestHeader-> updateInRequestHeader-> setOutRequestHeader
org.openspcoop2.pdd.integrazione.pa.request.readAndDelete=true

# Porta Applicativa, Messaggio di risposta
# Indicazione se l'header di integrazione letto con un IGestoreIntegrazionePASoap
# deve poi essere eliminato o meno (default: true).
# I metodi definiti nell'interfaccia che vengono invocati sono:
# -true:  readInResponseHeader-> deleteInResponseHeader
# -false: readInResponseHeader-> updateInResponseHeader
org.openspcoop2.pdd.integrazione.pa.response.readAndDelete=true
# Se la pdd agisce in modalita Router, l'header di integrazione anche se presente non viene letto/modificato
# Se la pdd agisce non in modalita Router e' possibile indicare alla porta se leggere informazioni da un eventuale header di integrazione presente (process=true).
# Tali informazioni vengono utilizzate come info addizionali per tracciamento/msgDiagnostici personalizzati.
org.openspcoop2.pdd.integrazione.pa.process=false











# ------------ Integration Manager -----------------
#
# Modalita di definizione della porta delegata indicata nel metodo 'invocaPortaDelegata':
# - false, il nome fornito viene utilizzato interamente per individuare la porta delegata da utilizzare
# - true, il nome fornito viene utilizzato in parte per riconoscere la porta delegata (prefisso) 
#          e in parte per l'identificazione dinamica del soggetto/servizio/azione ('url-based').
org.openspcoop2.pdd.service.IntegrationManager.nomePortaDelegataUrlBased=false

# Indicazione se le informazioni di trasporto presenti durante l'invocazione del servizio
# di IntegrationManager, devono essere utilizzate per l'integrazione dei servizi applicativi
org.openspcoop2.pdd.service.IntegrationManager.infoTrasporto=false









# ----------- Imbustamento/Sbustamento SOAP ---------------
#
# Un contenuto xml fornito per l'imbustamento SOAP, tramite il servizio 'PDtoSOAP'
# non deve possedere l'istruzione <?xml.
# L'opzione seguente permette di effettuere l'eliminazione di tale istruzione di codifica, se presente.
# se deleteInstructionTargetMachineXml=false, se l'istruzione e' presente l'imbustamento SOAP non avra' successo,
# ma sara' invece generato un errore
org.openspcoop2.pdd.core.soap.deleteInstructionTargetMachineXml=true

# Keyword da utilizzare come nome di un header HTTP o come nome di proprieta in stile FormBased
# per richiedere il servizio di TunnelSOAP offerto da OpenSPCoop2.
#
# Il tunnel puo' essere attivato per una richiesta, tramite il servizio di imbustamento (servizio 'PDtoSOAP'),
# utilizzando l'header http o l'url del servizio, impostando la keyword indicata dalla proprieta' org.openspcoop2.pdd.core.soap.tunnelSOAP'.
#
# Il tunnel puo' essere attivato anche per una risposta presente nell'http-reply (in profili sincroni) sempre tramite
# l'header http della risposta, impostando la keyword indicata dalla proprieta' org.openspcoop2.pdd.core.soap.tunnelSOAP'.
#
# Se viene richiesto il servizio di imbustamento, il contenuto inviato viene codificato in Base64 
# con mime-type application/openspcoop2 se non viene fornito un mime-type attraverso la proprieta' 'org.openspcoop2.pdd.core.soap.tunnelSOAP.mimeType'.
# Se invece viene fornito un mime-type verra' utilizzato il DataContentHandler associato al mime type, che deve
# essere stato registrato in META-INF/mailcap di OpenSPCoop2.ear.
#
# Alcune versioni dell'application server non caricano correttamente il file mailcap.
# E' possibile forzare il caricamento abilitando l'opzione sottostante:
org.openspcoop2.pdd.core.soap.tunnelSOAP.mailcap.load=false

# --- Trasporto ---
# Keyword per i valori di integrazione gestiti tramite header di integrazione di tipo 'trasporto':
org.openspcoop2.pdd.core.soap.tunnelSOAP.trasporto=X-OpenSPCoop2-TunnelSOAP
org.openspcoop2.pdd.core.soap.tunnelSOAP.mimeType.trasporto=X-OpenSPCoop2-TunnelSOAP-MimeType

# --- UrlBased ---
# Keyword per i valori di integrazione gestiti tramite header di integrazione di tipo 'urlBased'
org.openspcoop2.pdd.core.soap.tunnelSOAP.urlBased=OpenSPCoop2TunnelSOAP
org.openspcoop2.pdd.core.soap.tunnelSOAP.mimeType.urlBased=OpenSPCoop2TunnelSOAPMimeType















# ----------- MessageSecurity ---------------
#
# Indicazione se deve essere caricato il Provider org.bouncycastle.jce.provider.BouncyCastleProvider
org.openspcoop2.pdd.security.addBouncyCastleProvider=true
#
# Indicazione se la porta di dominio deve aggiungere un actor di default, se nella configurazione MessageSecurity non viene definito
# L'impostazione di un actor di default per l'header di sicurezza introdotto dalla PdD e' fondamentale per non avere conflitti durante la gestione, 
# se anche i servizi applicativi fruitori ed erogatori gestiscono a loro volta un header security a livello applicativo
org.openspcoop2.pdd.messageSecurity.actorDefault.enable=true
# Valore di default dell'actor
org.openspcoop2.pdd.messageSecurity.actorDefault.valore=openspcoop2
#
# Prefisso associato agli identificativi unici generati dall'engine di MessageSecurity negli attributi "wsu:Id",
# ID utilizzati per indirizzare gli elementi nella SOAPEnvelope
org.openspcoop2.pdd.messageSecurity.prefixWsuId=OpenSPCoop2-
#
# Utilizzo della classe org.openspcoop2.security.utils.ExternalPWCallback
# La classe permette di gestire le password dei certificati dinamicamente senza dover realizzare una classe ad hoc
# Le password vengono lette dal file properties indicato in questa proprietà:
#org.openspcoop2.pdd.messageSecurity.externalPWCallback.propertiesFile=/etc/openspcoop2/wssPassword.properties
#
# ** Parametri di cache per i keystore  **
# Abilitazione all'uso della cache
org.openspcoop2.pdd.messageSecurity.keystore.cache.enable=true
# Dimensione della cache (default:500)
org.openspcoop2.pdd.messageSecurity.keystore.cache.dimensione=500
# Item Life Second (default: 1minuti=60)
org.openspcoop2.pdd.messageSecurity.keystore.cache.itemLifeSecond=7200











# ------------ Identificazione credenziali  -------------
#
# E' possibile indicare il processo di identificazione delle credenziali
# che si desidera abilitare sulle Porte Delegate, Applicative e sul servizio di IntegrationManager.
# Le credenziali gestite dalla Porta di Dominio sono:
# - subject di certificati
# - username/password
# Tali credenziali vengono normalmente estratte dal trasporto.
#
# Sono definibili anche processi di identificazione delle credenziali personalizzati.
# Le personalizzazioni richiedono l'implementazione della classe org.openspcoop2.pdd.core.autenticazione.IElaborazioneCredenziali da configurare nel openspcoop2.classRegistry.properties.
#
# E' possibile elencare i tipo personalizzati che si desidera abilitare, separati da virgola, tramite la seguente opzione:
# Porte Delegate
#org.openspcoop2.pdd.services.pd.gestoriCredenziali=tipo1,tipo2,...
# Porte Applicative
#org.openspcoop2.pdd.services.pa.gestoriCredenziali=tipo1,tipo2,...
# Integration Manager
#org.openspcoop2.pdd.services.integrationManager.gestoriCredenziali=tipo1,tipo2,...

#
# In caso vengano elencati piu' di un tipo, tutti vengono consultati per avere come output nuove credenziali da utilizzare.
# Le credenziali elaborate da un tipo vengono inoltrate al tipo successivo.
# Le credenziali finali utilizzate dalla PdD saranno quelle ritornate dall'elaborazione dell'ultimo tipo della catena.

# Stampa nei log core a livello INFO il contenuto dei certificati
org.openspcoop2.pdd.services.certificate.printInfo=false












# ------- Autorizzazione Buste
#org.openspcoop2.pdd.autorizzazioneBuste.tipo=none

# Autorizzazione utilizzando i 'fruitori'
org.openspcoop2.pdd.autorizzazioneBuste.tipo=registro

# Autorizzazione utilizzando il database dell'applicazione pddConsole
#org.openspcoop2.pdd.autorizzazioneBuste.tipo=pddConsole









# ------- HandlerBypassHeaderElement 
# Nel caso in cui un msg SOAP, ricevuto da un servizio di OpenSPCoop2,
# possieda un header con l'attributo mustUnderstand="1" e non sia presente 
# l'actor, il servizio Axis provoca un SoapFault,
# perche' pensa che debba gestire l'header, e non un handler per farlo. 
# Il filtro, inserito in testa ai servizi axis di OpenSPCoop2 (con un handler) 
# permette di bypassare il problema segnalando come "processed" l' header.

# Abilitazione del filtro per qualsiasi HeaderElement
# che possiede mustUnderstand="true" e non possiede un actor.
# Possibili valori: true/false
org.openspcoop2.pdd.services.BypassMustUnderstandHandler.allHeaders=true

# Sintassi per filtri specifici: 
# org.openspcoop2.pdd.services.BypassMustUnderstandHandler.header.LOCAL_NAME=NAMESPACE_URI
# Se si deve definire più header con stesso local name e differente namespace si può utilizzare la seguente sintassi:
# org.openspcoop2.pdd.services.BypassMustUnderstandHandler.header.LOCAL_NAME!NUMERO_PROGRESSIVO=NAMESPACE_URI

# Bypass per WS-Security:
org.openspcoop2.pdd.services.BypassMustUnderstandHandler.header.Security=http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
# Bypass per WS-Reliability
org.openspcoop2.pdd.services.BypassMustUnderstandHandler.header.Sequence=http://schemas.xmlsoap.org/ws/2005/02/rm








# --------- Consegna buste Soap (Necessario solo per Server j2ee) ------------
# 
# Algoritmo per riconsegna con fattore esponenziale
# Se un messaggio e' all'X re-invio, verra' calcolato un fattore di ritardo di consegna,
# dato dalla cadenza di consegna impostata nella porta di dominio (vedi voce 'gestione-errore' della configurazione)
# sommato al valore di 'org.openspcoop2.pdd.connettore.ritardo.fattore' crescuto esponenzialmente/linearmente 
# (vedi 'org.openspcoop2.pdd.connettore.ritardo.operazione') per il numero di re-invii.
#
# Esempio, cadeza di consegna impostato a 150000 secondi.
#          Messaggio re-inviato 4 volte.
#          org.openspcoop2.pdd.connettore.ritardo=2
#          org.openspcoop2.pdd.connettore.operazione=*
# Prossima spedizione = dataPrecedenteSpedizioneSecondi + 150000 + (2*2*2*2)

# Meccanismo di ritardo consegna contenuti applicativi
org.openspcoop2.pdd.connettore.ritardo.stato=disabilitato
# Intervallo di ritardo per le ri-consegne di messaggi in secondi
#org.openspcoop2.pdd.connettore.ritardo.fattore=2
# Tipo di operazione esponenziale da applicare al ritardo, in base al numero di ri-tentativi.
# Possibili valori (+,*)
#org.openspcoop2.pdd.connettore.ritardo.operazione=*
# Limite del numero di tentativi utilizzato come esponente per il fattore di ritardo (default: infinito)
#org.openspcoop2.pdd.connettore.ritardo.limite=20








# ------- Gestione Connettori ------
# 
# Configurazione avanzata dei connettori utilizzati per quanto riguarda:
# - connection.timeout : timeout in millisecondi per la istanziazione della connessione
# - readConnection.timeout : timeout in millisecondi per la lettura della risposta dalla connessione
# - connection.life : millisecondi massimi durante il quale una connessione viene mantenuta aperta dalla PdD. 
#		      Il timer gestore dei messaggi, si occupa di rilasciare tutte le connessioni per cui e' scaduta la connection life (Default 30 minuti)
#
# Le configurazioni possono essere differenziate per:
# - Moduli inoltro buste (comunicazioni tra porte di dominio)
# - Modulo consegna contenuto applicativo (comunicazione tra porta di dominio e servizio applicativo)
#
# Per connection.life sul router impostare il parametro in consegnaContenutiApplicativi (PA)

# Moduli inoltro buste
org.openspcoop2.pdd.connettori.inoltroBuste.readConnection.timeout=150000
org.openspcoop2.pdd.connettori.inoltroBuste.connection.timeout=10000
org.openspcoop2.pdd.connettori.inoltroBuste.connection.life=1800000
# Modulo consegna contenuto applicativo
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.readConnection.timeout=120000
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.connection.timeout=10000
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.connection.life=1800000








# ------- Protocollo HTTP  ------
#
#
# HTTP TRANSFER MODE
# (http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.4)
# La transfer-length di una risposta http e' la lunghezza del corpo del messaggio trasferito sull'http connection.
# Tale lunghezza e' determinabile tramite diversi modi, tra cui i due seguenti:
# 1. Transfer-Encoding-Chunked: se un header http Transfer-Encoding e' presente e possiede un qualsiasi valore diverso da "identity",
#                               poi la transfer-length e' definita usando il "chunked" transfer-coding, a meno che il messaggio
#                               viene terminato dalla connessione.
# 2. Content-Length: se un header http Content-Length e' presente, il suo valore decimale rappresenta sia la entity-length sia il transfer-length. 
# NOTA: i due metodi descritti sono mutuamente esclusivi
#
# Tramite le opzioni sottostanti e' possibile impostare il transfer-length impostato dai servizi PD e PA di OpenSPCoop2, 
# e dai connettori HTTP utilizzati durante l'inoltro di buste e durante la consegna verso i servizi applicativi.
# Il transfer-length indicato viene utilizzato nelle risposte solo in caso di richieste HTTP 1.1, 
# mentre viene utilizzato il valore webserver-default nelle risposte a richieste HTTP 1.0.
#
#
# I possibili valori sono: transfer-encoding-chunked, content-length e webserver-default
#
# Servizio di ricezione contenuti applicativi (PortaDelegata)
org.openspcoop2.pdd.services.ricezioneContenutiApplicativi.httpTransferLength=webserver-default
# Servizio di ricezione buste (PortaApplicativa)
org.openspcoop2.pdd.services.ricezioneBuste.httpTransferLength=webserver-default
#
#
# I possibili valori sono: transfer-encoding-chunked e content-length
# Moduli inoltro buste
org.openspcoop2.pdd.connettori.inoltroBuste.httpTransferLength=transfer-encoding-chunked
# (httpTransferLength=transfer-encoding-chunked) Numero di bytes da scrivere in ciascun pezzo ("chunk"). 
#org.openspcoop2.pdd.connettori.inoltroBuste.httpTransferLength.chunkLength=1024
# Modulo consegna contenuto applicativo
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.httpTransferLength=transfer-encoding-chunked
# (httpTransferLength=transfer-encoding-chunked) Numero di bytes da scrivere in ciascun pezzo ("chunk"). 
#org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.httpTransferLength.chunkLength=1024
#
#
#
# SOAPAction
# Il WS-I Basic profile 1.1 (http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html#SOAPAction_HTTP_Header)
# indica che per incrementare l'interoperabilita' tra le implementazioni, e' bene utilizzare soap action quotate.
# Anche se HTTP permette header con valori non quotati, alcune implementazioni SOAP richiedono che la SOAPAction header sia quotata.
# Le regole fissate dal profilo WS-I sono:
# R1109 The value of the SOAPAction HTTP header field in a HTTP request MESSAGE MUST be a quoted string.
# R1119 A RECEIVER MAY respond with a fault if the value of the SOAPAction HTTP header field in a message is not quoted.
#
# Se abilita l'opzione sottostante, la Porta di Dominio accettera' solo richieste http con un header http SOAPAction con valore quotato
# Servizio di ricezione contenuti applicativi (PortaDelegata)
org.openspcoop2.pdd.services.ricezioneContenutiApplicativi.soapAction.checkQuotedString=false
# Servizio di ricezione buste (PortaApplicativa)
org.openspcoop2.pdd.services.ricezioneBuste.soapAction.checkQuotedString=false
#
#
#
# ContentType
# Il Documento WS-I Simple SOAP Binding Profile 1.0 (http://www.ws-i.org/Profiles/SimpleSoapBindingProfile-1.0.html) 
# indica tramite i requisiti R9702 e R9703 del paragrafo 3.1.1 (XML Envelope Serialization):
# - R9702 A MESSAGE MUST have a "Content-Type" HTTP header field.
# - R9703 A MESSAGE's "Content-Type" HTTP header field MUST have a field-value whose media type is "text/xml".
# Per quanto riguarda il requisito R9703, fanno eccezione i messaggi SOAP With Attachments definiti nel documento 
# Attachments Profile 1.0 (http://www.ws-i.org/Profiles/AttachmentsProfile-1.0.html):
# - R2925  If the WSDL description lists at least one non-root MIME part, the corresponding MESSAGE MUST have a Content-Type  HTTP header field-value with a media-type of "multipart/related".
#
# Se abilita l'opzione sottostante, la Porta di Dominio accettera' solo richieste http con un header http Content-Type con valore corretto
# Servizio di ricezione contenuti applicativi (PortaDelegata)
org.openspcoop2.pdd.services.ricezioneContenutiApplicativi.contentType.checkEnabled=true
# Servizio di ricezione buste (PortaApplicativa)
org.openspcoop2.pdd.services.ricezioneBuste.contentType.checkEnabled=true
#
#
#
# ReturnCode
# Il WS-I Basic profile 1.1 (http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html#HTTP_Success_Status_Codes)
# indica che gli unici codici di ritorno 2XX accettati sono 200 o 202.
# Il WS-I Basic  profile 1.1 (http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html#HTTP_Redirect_Status_Codes)
# indica che l'unico codice accettato per il redirect e' il codice 307
#
# Moduli inoltro buste
# 2xx
org.openspcoop2.pdd.connettori.inoltroBuste.returnCode.2xx.acceptOnly_202_200=true
# 3xx (il redirect richiede di bufferizzare il messaggio, e di non consumarlo direttamente)
org.openspcoop2.pdd.connettori.inoltroBuste.followRedirects=false
org.openspcoop2.pdd.connettori.inoltroBuste.followRedirects.maxHop=5
org.openspcoop2.pdd.connettori.inoltroBuste.returnCode.3xx.acceptOnly_307=false
# Modulo consegna contenuto applicativo
# 2xx
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.returnCode.2xx.acceptOnly_202_200=true
# 3xx (il redirect richiede di bufferizzare il messaggio, e di non consumarlo direttamente)
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.followRedirects=false
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.followRedirects.maxHop=5
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.returnCode.3xx.acceptOnly_307=false
#
#
#
# Header Value
# Come indicato nella specifica HTTP 1.1 (RFC 7230) i valori degli headers devono essere codificati tramite 
# MIME encoding definito nella specifica RFC 2047 se contengono dei caratteri che non appartengono al charset ISO-8859-1.
# Le opzioni seguenti permettono di abilitare la codifica RFC 2047 se si rientra nel caso descritto dalla specifica RFC 7230.
# Le opzioni permettono anche di indicare quale sia il charset che individua se abilitare o meno l'encoding RFC 2047.
# Quest'ultima opzione permette di adottare un charset US_ASCII piu' restrittivo dell'ISO-8859-1, charset consigliato dalla specifica HTTP 1.1
#
# Servizio di ricezione contenuti applicativi (PortaDelegata)
org.openspcoop2.pdd.services.ricezioneContenutiApplicativi.headerValue.encodingRFC2047.enabled=true
org.openspcoop2.pdd.services.ricezioneContenutiApplicativi.headerValue.encodingRFC2047.charset=US-ASCII
org.openspcoop2.pdd.services.ricezioneContenutiApplicativi.headerValue.encodingRFC2047.encoding=Q
#
# Servizio di ricezione buste (PortaApplicativa)
org.openspcoop2.pdd.services.ricezioneBuste.headerValue.encodingRFC2047.enabled=true
org.openspcoop2.pdd.services.ricezioneBuste.headerValue.encodingRFC2047.charset=US-ASCII
org.openspcoop2.pdd.services.ricezioneBuste.headerValue.encodingRFC2047.encoding=Q
#
# Moduli inoltro buste
org.openspcoop2.pdd.connettori.inoltroBuste.headerValue.encodingRFC2047.enabled=true
org.openspcoop2.pdd.connettori.inoltroBuste.headerValue.encodingRFC2047.charset=US-ASCII
org.openspcoop2.pdd.connettori.inoltroBuste.headerValue.encodingRFC2047.encoding=Q
#
# Moduli consegna contenuto applicativo
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.headerValue.encodingRFC2047.enabled=true
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.headerValue.encodingRFC2047.charset=US-ASCII
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.headerValue.encodingRFC2047.encoding=Q
#
#
#
# Validazione Header Key and Value
# Come indicato nella specifica HTTP 1.1 (RFC 7230 section 3.2. Header Fields)
# Each header field consists of a case-insensitive field name followed by a colon (":"), 
# optional leading whitespace, the field value, and optional trailing whitespace.
# Header fields can be extended over multiple lines by preceding each extra line with at least one SP or HT. 
# Applications ought to follow "common form", where one is known or indicated, when generating HTTP constructs, since there might exist some implementations that fail to accept anything
# Le opzioni seguenti permettono di abilitare la validazione degli header http prima che siano impostati.
# Se la validazione fallisce, non viene emesso l'header e viene segnalato un errore nei file di log della PdD.
#
# Servizio di ricezione contenuti applicativi (PortaDelegata)
org.openspcoop2.pdd.services.ricezioneContenutiApplicativi.headerNameValue.validazione.enabled=true
#
# Servizio di ricezione buste (PortaApplicativa)
org.openspcoop2.pdd.services.ricezioneBuste.headerNameValue.validazione.enabled=true
#
# Moduli inoltro buste
org.openspcoop2.pdd.connettori.inoltroBuste.headerNameValue.validazione.enabled=true
#
# Moduli consegna contenuto applicativo
org.openspcoop2.pdd.connettori.consegnaContenutiApplicativi.headerNameValue.validazione.enabled=true

 



# -------- Tipo gestione e calibrazione Receiver su nodi:
# - RicezioneContenutiApplicativi
# - RicezioneBuste

# Timeout di attesa di una risposta applicativa in millisecondi: 
# esempio  3,5 Minuti (3,5 * 60 * 1000) 
org.openspcoop2.pdd.nodeReceiver.timeout=210000
# Specializzazione del timeout per nodo funzionale:
# - RicezioneContenutiApplicativi 
# (3,5 minuti, poiche' il timout del connettore http di default tra porte di dominio e' 3 minuti)
org.openspcoop2.pdd.nodeReceiver.ricezioneContenutiApplicativi.timeout=210000
# - RicezioneBuste
# (2,5 minuti, poiche' il timeout del connettore http di default e' 2 minuti)
org.openspcoop2.pdd.nodeReceiver.ricezioneBuste.timeout=150000

# tipo di NodeReceiver (es. jms,db) (Necessario solo per Server j2ee)
org.openspcoop2.pdd.nodeReceiver=db

# Frequenza di check in millisecondi
org.openspcoop2.pdd.nodeReceiver.check=100

# In caso di cache per la gestione dei messaggi abilitata (voce 'org.openspcoop2.pdd.repository.gestoreMessaggi.cache.enable')
# Per migliorare le performance, se le informazioni su di un messaggio non sono presenti nella cache si assumono anche non presenti nel database.
# La cache puo' cmq svuotarsi velocemente se la dimensione e' troppo piccola rispetto al numero di msg in parallelo gestiti.
# Quindi ogni X volte (se check=10 ogni X*10 millisecondi) viene controllato anche il database, oltre alla cache.
# L'impostazione viene effettuata dalla seguente proprieta':
org.openspcoop2.pdd.nodeReceiver.checkDB=25

# Singola connessione durante la ricezione (true/false)
org.openspcoop2.pdd.nodeReceiver.singleConnection=false




# -------- Tipo gestione e calibrazione spedizione verso i nodi (Necessario solo per Server j2ee) ---------
# tipo di NodeSender (es. jms,db)
org.openspcoop2.pdd.nodeSender=jms





# --------------------- Transaction Manager (Necessario solo per Server j2ee) ----------------------
#   (Utile solo se org.openspcoop2.pdd.nodeReceiver o org.openspcoop2.pdd.nodeSender e' di tipo jms)
#  -------------------------------------------------------------------------------------------------
# Attesa attiva in secondi
# esempio 120 sec = 2 minuti
org.openspcoop2.pdd.core.TransactionManager.attesaAttiva=120

# Intervallo in millisecondi tra un check e l'altro durante l'attesa attiva
org.openspcoop2.pdd.core.TransactionManager.check=10

# In caso di cache per la gestione dei messaggi abilitata (voce 'org.openspcoop2.pdd.repository.gestoreMessaggi.cache.enable')
# Per migliorare le performance, se le informazioni su di un messaggio non sono presenti nella cache si assumono anche non presenti nel database.
# La cache puo' cmq svuotarsi velocemente se la dimensione e' troppo piccola rispetto al numero di msg in parallelo gestiti.
# Quindi ogni X volte (se check=10 ogni X*10 millisecondi) viene controllato anche il database, oltre alla cache.
# L'impostazione viene effettuata dalla seguente proprieta':
org.openspcoop2.pdd.core.TransactionManager.checkDB=25

# Singola connessione durante la ricezione (true/false)
org.openspcoop2.pdd.core.TransactionManager.singleConnection=false









# -- Intervallo di Gestione per livello serializable del Database --
# Attesa attiva in secondi
# esempio 60 sec = 1 minuto
org.openspcoop2.pdd.jdbc.serializable.attesaAttiva=60

# Intervallo in millisecondi tra un check e l'altro durante l'attesa attiva
# L'intervallo varia casualmente nell'intervallo [0,check]
org.openspcoop2.pdd.jdbc.serializable.check=100







# ----- Gestione Date
#
# Tipo di gestione temporale utilizzata dalla Porta di Dominio
# Deve essere uno tra i seguenti due valori definiti:
# - sincronizzato: Indica il tempo sincronizzato attraverso un server centrale certificato dall'infrastruttura di protocollo
# - locale: Indica il tempo locale non sincronizzato attraverso un server centrale
org.openspcoop2.pdd.tempo.tipo=sincronizzato

# Implementazione dell'engine utilizzato per la costruzione di date/time
# Implementazioni fornite:
# - system, viene utilizzato il metodo System.currentTimeMillis per la lettura dal sistema
# - java, viene utilizzata la classe java.util.Date per la lettura dalla JVM
# - ntp, la data viene letta da un server NTP (Network Time Protocol) RFC 1305
# - tcpTime, la data viene letta da un server TCP Time RFC 868
# - udpTime, la data viene letta da un server UDP Time RFC 868

org.openspcoop2.pdd.date.tipo=system

# Proprieta di un DateManager NTP:
# Timeout in millisecondi.
#   org.openspcoop2.pdd.date.property.ntp.timeout=1000
# Indirizzo IP del Server NTP
#   org.openspcoop2.pdd.date.property.ntp.server=indirizzoIP
# Cache (true/false) [Default:true]
#   org.openspcoop2.pdd.date.property.ntp.cache.enable=false
# Refresh della cache in un secondo (Default: 10)
# Es. 
# - refresh=20 la lettura viene effettuata ogni 50ms
# - refresh=10 la lettura viene effettuata ogni 100ms
# - refresh=5 la lettura viene effettuata ogni 200ms
#   org.openspcoop2.pdd.date.property.ntp.cache.refresh=10

# Proprieta di un DateManager TPC/UDP Time:
# Timeout in millisecondi.
#   org.openspcoop2.pdd.date.property.time.timeout=1000
# Indirizzo IP del Server TCP/UDP Time
#   org.openspcoop2.pdd.date.property.time.server=indirizzoIP
# Porta del Server TPCTime
#   org.openspcoop2.pdd.date.property.time.porta=37
# Cache (true/false) [Default:true]
#   org.openspcoop2.pdd.date.property.time.cache.enable=false
# Refresh della cache in un secondo (Default: 10)
# Es. 
# - refresh=20 la lettura viene effettuata ogni 50ms
# - refresh=10 la lettura viene effettuata ogni 100ms
# - refresh=5 la lettura viene effettuata ogni 200ms
#   org.openspcoop2.pdd.date.property.time.cache.refresh=10










# ---- Gestione Libreria Busta

# Gestione accessi al RepositoryBuste
# Possibili tipi registrati in openspcoop2.classRegistry.properties: default,bytewise,oracle,bitOrAndFunction
org.openspcoop2.protocol.repository.gestore=auto-bytewise

# Filtro duplicati
org.openspcoop2.protocol.filtroDuplicati=openspcoop

# Lettura forzata del registro dei servizi per:
# - applicare il FiltroDuplicati
# - applicare la gestione dei riscontri
# - applicare la consegna in ordine
# Se vengono abilitate queste opzioni, la porta di dominio non si "fida" della busta ricevuta,
# ma controlla il registro dei servizi per verificare la funzionalita richiesta
org.openspcoop2.protocol.filtroDuplicati.letturaRegistro=true
org.openspcoop2.protocol.confermaRicezione.letturaRegistro=true
org.openspcoop2.protocol.consegnaInOrdine.letturaRegistro=true

# Validazione buste che possiedono attributi qualificati (default:false)
# Lo schema della busta non permette attributi qualificati (attributeFormDefault="unqualified")
# Se non si abilita la validazione 'rigida' (tramite schema xsd) e si abilita la seguente opzione, e' possibile far accettare/processare
# alla porta di dominio anche buste che contengono attributi qualificati.
org.openspcoop2.protocol.validazione.readQualifiedAttribute=false

# Validazione id
# L'identificativo presente in una busta e' formato da 5 parti:  <nome_mittente>_<pdd_mittente>_<numero_seriale>_<data>_<ora>
# Esempio:  MinisteroFruitore_MinisteroFruitoreSPCoopIT_0000001_2009-07-22_10:59
#   <nome_mittente>: deve corrispondere al nome mittente della busta
#   <pdd_mittente>: deve corrispondere all'identificativo porta del soggetto mittente
#   <numero_seriale>: si tratta di un numero sequenziale gestito dalla PdD e composto da 7 cifre
#   <data>: data in cui viene emessa la busta
#   <ora>: ora in cui viene emessa la busta
# La PdD OpenSPCoop2 valida per default ogni singola parte di un identificativo.
# E' possibile istruire la PdD in modo che non validi le prime due parti (nome e identificativo porta del mittente) tramite la seguente opzione
org.openspcoop2.protocol.validazione.idbusta.validazioneCompleta=true


# Generazione attributi 'tipo' e 'servizioCorrelato' nell'elemento 'ProfiloCollaborazione' 
# della richiesta asincrona simmetrica e della ricevuta alla richiesta asincrona asimmetrica
org.openspcoop2.protocol.asincroni.attributiCorrelati.enable=true

# Generazione/Gestione dell'elemento Collaborazione
org.openspcoop2.protocol.collaborazione.enable=true

# Gestione della consegna in ordine (ConsegnaAffidabile+Collaborazione+Sequenza)
org.openspcoop2.protocol.consegnaInOrdine.enable=true

# Generazione della ListaTrasmissioni
org.openspcoop2.protocol.trasmissione.enable=true

# Gestione dei riscontri: 
# - produzione richiesta con confermaRicezione="true"
# - produzione riscontro
# - gestione riscontri ricevuti
org.openspcoop2.protocol.riscontri.enable=true

# Generazione BusteErrore se viene ricevuto un messaggio duplicato anche in presenza di OneWay profili Asincroni (in modalita asincrona)
org.openspcoop2.protocol.filtroduplicati.generazioneErrore=false

# In maniera simile anche la validazione di una busta, risulta non riuscita se viene rilevata una qualsiasi eccezione.
# Se si desidera, invece, ritenere una busta  malformata solo se la validazione rileva eccezioni di livello GRAVE, 
# deve essere abilitata la seguente opzione
org.openspcoop2.protocol.validazione.ignoraEccezioniNonGravi=false

# Nel caso in cui ci troviamo nelle seguenti condizioni:
# - protocollo 'spcoop'
# - soap 1.1
# - fault code appartenente al namespace soap
# se viene abilitata l'opzione seguente, il prefisso del soap fault code viene forzato essere 'soap'
# al fine di poter essere interoperabile con OpenSPCoop v1
# L'xml del fault possiedera; una dichiarazione ulteriore del namespace soap nell'elemento fault-code.
# Esempio:
# <SOAP-ENV:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
# <SOAP-ENV:Body>
# <SOAP-ENV:Fault>
# <faultcode xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">soap:Client</faultcode>
# <faultstring>EGOV_IT_001 - Formato Busta non corretto</faultstring>
# </SOAP-ENV:Fault>
# </SOAP-ENV:Body>
# </SOAP-ENV:Envelope> 
org.openspcoop2.protocol.spcoop.backwardCompatibility.forceSoapPrefix=true

# Il file 'openspcoop2.pdd.properties' permette ridefinire alcune configurazioni della porta di dominio, 
# definite normalmente in openspcoop2.properties o nella configurazione xml/db della porta,
# con lo scopo di far interoperare correttamente la porta di dominio openspcoop con altre implementazioni.
# La seguente proprieta' indica dove tale file deve essere localizzato dalla porta di dominio.
# Se tale proprieta' non viene impostata, il file verra' cercato nel classpath.
#org.openspcoop2.protocol.pddProperties=/etc/openspcoop2/pdd.properties






# ---------- Cluster ID -------------- #

# ID del nodo del cluster in cui sta girando questa istanza di OpenSPCoop2
#org.openspcoop2.pdd.cluster_id=openspcoopPdD











# ---------- Stateless/Stateful -------------- #

# Comportamento di default per il profilo oneway (abilitato/disabilitato) (Server j2ee)
org.openspcoop2.pdd.stateless.default.oneway=disabilitato
# Comportamento di default per il profilo sincrono (abilitato/disabilitato) (Server j2ee)
org.openspcoop2.pdd.stateless.default.sincrono=abilitato
# Comportamento di default per i profili asincroni (simmetrico e asimmetrico) (abilitato/disabilitato) (Server j2ee)
org.openspcoop2.pdd.stateless.default.asincroni=abilitato

# Gestione del profilo oneway in caso di stateless=disabilitato (Server j2ee)
# 1.0: viene attivato l'MDB di imbustamento/Sbustamento
# 1.1: viene utilizzata la versione stateless fino ad imbustamento/sbustamento
org.openspcoop2.pdd.stateful.oneway=1.1

# Routing delle buste (Server j2ee)
# Indicazione se utilizzare la versione stateless per il routing delle buste
# quando la porta di dominio funge da router
org.openspcoop2.pdd.stateless.router=abilitato

# Gestione delle connessioni prelevate dai datasource che gestisce il database della Porta di Dominio.
# Se si abilita il rinegoziamento della connessione, non vi e' un vincolo tra connessioni HTTP e connessioni sul DB
# e il numero di connessioni HTTP puo' essere tranquillamente maggiore.
# Se invece il thread che gestisce una richiesta non rinegozia la connessione, 
# vi e' un vincolo 1-1 tra connessioni HTTP e connessioni sul DB
org.openspcoop2.pdd.stateless.dataSource.rinegoziamentoConnessione=abilitato









# ---------- Lettura informazioni da RegistroServizi -------------- #
# Indicazione se la porta di dominio deve processare gli accordi di servizio, i servizi e i fruitori
# ancora in stato di bozza.
org.openspcoop2.registroServizi.readObjectStatoBozza=true







# --------- Tracciatura ------------------

# Indica se in caso di errore di tracciatura (es. salvataggio traccia non riuscito)
# deve essere bloccata la gestione del messaggio e generato un errore al client
org.openspcoop2.pdd.logger.tracciamento.registrazioneFallita.bloccaCooperazioneInCorso=true

# Indica se in caso di rilevamento di un errore di tracciatura 
# devono essere bloccati tutti i servizi esposti dalla Porta di Dominio, in modo da non permettere alla PdD
# di gestire ulteriori richieste fino ad un intervento sistemistico.
org.openspcoop2.pdd.logger.tracciamento.registrazione.bloccoServiziPdD=false






# --------- Emissione Messaggi Diagnostici ------------------

# Indica se in caso di rilevamento di un errore di emissione di un messaggio diagnostico 
# (es. salvataggio su database non riuscito) 
# devono essere bloccati tutti i servizi esposti dalla Porta di Dominio, in modo da non permettere alla PdD
# di gestire ulteriori richieste fino ad un intervento sistemistico.
org.openspcoop2.pdd.logger.msgDiagnostici.emissioneFallita.bloccoServiziPdD=false






# --------- Dump messaggi ---------------

# Indica la modalità di dump (attivabile a livello di configurazione della porta)
# Se si attiva l'opzione verranno registrati tutti gli allegati (opzione da non utilizzare in tomcat)
# altrimenti vengono registrati solo gli attachments "visualizzabili": xml,text-plain
org.openspcoop2.pdd.logger.dump.allAttachments=true

# Indica se in caso di errore di dump applicativo (es. salvataggio contenuto non riuscito)
# deve essere bloccata la gestione del messaggio e generato un errore al client
org.openspcoop2.pdd.logger.dump.registrazioneFallita.bloccaCooperazioneInCorso=false

# Indica se in caso di rilevamento di un errore di tracciatura
# devono essere bloccati tutti i servizi esposti dalla Porta di Dominio, in modo da non permettere alla PdD
# di gestire ulteriori richieste fino ad un intervento sistemistico.
org.openspcoop2.pdd.logger.dump.registrazione.bloccoServiziPdD=false



# ---------- ID -----------------------
org.openspcoop2.pdd.idGenerator=UUID






# ---------- Statistiche -----------------------

# Abilitare le seguenti opzioni per far generare alla PdD informazioni statistiche
org.openspcoop2.pdd.handler.in-request=stat
org.openspcoop2.pdd.handler.out-request=stat
org.openspcoop2.pdd.handler.in-response=stat
org.openspcoop2.pdd.handler.post-out-response=stat






#---------- Protocollo di gestione --------------

# Ogni protocollo e' stato registrato nel file ClassName.properties dove e' stata registrata una ProtocolFactory associata.

# ** protocollo di default
# In caso il mapping riportato di seguito in questa sezione non identifica un protocollo, 
# la Porta utilizza il protocollo di default indicato nella seguente proprieta' per la gestione degli errori:
#org.openspcoop2.pdd.services.defaultProtocol=spcoop
